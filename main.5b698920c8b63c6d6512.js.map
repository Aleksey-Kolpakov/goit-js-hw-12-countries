{"version":3,"sources":["webpack:///./templates/country-list.hbs","webpack:///./js/pnotify.js","webpack:///./js/fetchCountriesHandler.js","webpack:///./js/fetchCountries.js","webpack:///./index.js","webpack:///./templates/country-markup.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","escapeExpression","lambda","stack1","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","nullContext","program","noop","pnotifyError","message","error","text","stack","Stack","dir1","dir2","firstpos1","firstpos3","defaults","closer","delay","sticker","document","querySelector","divContainetRef","fetchCountriesHandler","debounce","event","innerHTML","pnotifyContainerRef","containerCleaner","searchQuery","fetch","then","response","json","fetchCountries","target","value","searchResultsNumber","Number","length","countries","map","country","name","countryListTemplate","countryMarkup","addEventListener","helper","alias1","alias2","hooks","helperMissing","alias3","alias4"],"mappings":"gFAAA,IAAIA,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,MAAO,qCACLJ,EAAUK,iBAAiBL,EAAUM,OAAOL,EAAQA,IACpD,sBACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASD,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIG,EAON,OAA8R,OAArRA,GAPsBP,EAAUQ,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAKWR,EAAQ,QAAQY,KAAe,MAAVb,EAAiBA,EAAUD,EAAUe,aAAe,GAAId,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUgB,QAAQ,EAAGZ,EAAM,GAAG,QAAUJ,EAAUiB,KAAK,KAAOb,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,EAAE,OAAS,OAAiBG,EAAS,IAC9S,SAAU,K,uNCRG,SAASW,EAAaC,GAAUC,gBAAM,CACjDC,KAAMF,EACNG,MAAO,IAAIC,QAAM,CACbC,KAAM,MAAOC,KAAM,QACnBC,UAAW,EAAGC,UAAW,MARjCC,WAASC,QAAS,EAClBD,WAASE,MAAQ,IACjBF,WAASG,SAAU,ECESC,SAASC,cAAc,YAAnD,IACMC,EAAkBF,SAASC,cAAc,iBAgChCE,MA9BeC,KAAS,SAAAC,IAwBvC,WACIH,EAAgBI,UAAY,GAC5B,IAAMC,EAAsBP,SAASC,cAAc,YAC/CM,IAAuBA,EAAoBD,UAAY,IA1B3DE,GCXW,SAAwBC,GACnC,OAAOC,MAAM,yCAAyCD,EAA1C,kDACPE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UDW/BC,CADoBT,EAAMU,OAAOC,OACLL,MAAK,SAAAvC,GAC7B,IAAM6C,EAAsBC,OAAO9C,EAAK+C,QACxC,GAAIF,EAAsB,GACtB/B,EAAa,kDAGjB,GAAI+B,EAAsB,GAAKA,EAAsB,GAArD,CACI,IAAMG,EAAYhD,EAAKiD,KAAI,SAAAC,GAAO,OAAIA,EAAQC,QAC9CrB,EAAgBI,UAAYkB,IAAoBJ,QAIxB,IAAxBH,EAIJ/B,EAAa,oCAHTgB,EAAgBI,UAAYmB,IAAcrD,EAAK,SAKxD,KE5Bc4B,SAASC,cAAc,iBAC/ByB,iBAAiB,QAASvB,I,qBCJnC,IAAIvC,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,IAAII,EAAiBR,EAAUQ,gBAAkB,SAASC,EAAQC,GAC9D,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,uBACHV,EAAUK,iBAAiBL,EAAUM,OAAkB,MAAVL,EAAiBO,EAAeP,EAAO,QAAUA,EAASA,IACvG,aACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASD,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIG,EAAQoD,EAAQC,EAAiB,MAAV3D,EAAiBA,EAAUD,EAAUe,aAAe,GAAK8C,EAAO7D,EAAU8D,MAAMC,cAAeC,EAAO,WAAYC,EAAOjE,EAAUK,iBAAkBG,EAAiBR,EAAUQ,gBAAkB,SAASC,EAAQC,GAC1O,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,qBACHuD,SAASN,EAAmH,OAAzGA,EAASnD,EAAeN,EAAQ,UAAsB,MAAVD,EAAiBO,EAAeP,EAAO,QAAUA,IAAmB0D,EAASE,KAA2BG,EAASL,EAAO7C,KAAK8C,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOxD,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASuD,GAChT,yJACAM,SAASN,EAAyH,OAA/GA,EAASnD,EAAeN,EAAQ,aAAyB,MAAVD,EAAiBO,EAAeP,EAAO,WAAaA,IAAmB0D,EAASE,KAA2BG,EAASL,EAAO7C,KAAK8C,EAAO,CAAC,KAAO,UAAU,KAAO,GAAG,KAAOxD,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASuD,GACzT,kHACAM,SAASN,EAA+H,OAArHA,EAASnD,EAAeN,EAAQ,gBAA4B,MAAVD,EAAiBO,EAAeP,EAAO,cAAgBA,IAAmB0D,EAASE,KAA2BG,EAASL,EAAO7C,KAAK8C,EAAO,CAAC,KAAO,aAAa,KAAO,GAAG,KAAOxD,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASuD,GAClU,8IACkS,OAAhSpD,EAASC,EAAeN,EAAQ,QAAQY,KAAK8C,EAAkB,MAAV3D,EAAiBO,EAAeP,EAAO,aAAeA,EAAQ,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUgB,QAAQ,EAAGZ,EAAM,GAAG,QAAUJ,EAAUiB,KAAK,KAAOb,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,QAAkBG,EAAS,IAClT,2FACA0D,SAASN,EAAmH,OAAzGA,EAASnD,EAAeN,EAAQ,UAAsB,MAAVD,EAAiBO,EAAeP,EAAO,QAAUA,IAAmB0D,EAASE,KAA2BG,EAASL,EAAO7C,KAAK8C,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOxD,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASuD,GAClT,UACAM,SAASN,EAAmH,OAAzGA,EAASnD,EAAeN,EAAQ,UAAsB,MAAVD,EAAiBO,EAAeP,EAAO,QAAUA,IAAmB0D,EAASE,KAA2BG,EAASL,EAAO7C,KAAK8C,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOxD,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASuD,GAClT,yDACJ,SAAU,M","file":"main.5b698920c8b63c6d6512.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"<ul>\\r\\n    <li class=\\\"list-item\\\">\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"</li>\\r\\n</ul>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":5,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","import '@pnotify/core/dist/BrightTheme.css';\r\nimport { error, defaultModules, Stack,defaults } from '../../node_modules/@pnotify/core/dist/PNotify.js';\r\n\r\ndefaults.closer = false;\r\ndefaults.delay = 2000;\r\ndefaults.sticker = false;\r\n//const message= \"Cлишком много совпадений, уточните запрос\";\r\nexport default function pnotifyError(message) {error({\r\n    text: message,\r\n    stack: new Stack({\r\n        dir1: 'top', dir2: 'right', // Position from the top left corner.\r\n        firstpos1: 0, firstpos3: 0 // 90px from the top, 90px from the left.\r\n    })\r\n});\r\n};\r\n\r\n","import fetchCountries from './fetchCountries';\r\nimport debounce from 'lodash.debounce';\r\nimport countryListTemplate from '../templates/country-list.hbs';\r\nimport countryMarkup from '../templates/country-markup.hbs';\r\nimport pnotifyError from './pnotify.js'\r\n\r\n\r\nconst pnotifyContainerRef = document.querySelector('.pnotify');\r\nconst divContainetRef = document.querySelector('.js-container');\r\n\r\nconst fetchCountriesHandler = debounce(event => {\r\n    containerCleaner();\r\n    const searchQuery = event.target.value;\r\n    fetchCountries(searchQuery).then(data => {\r\n        const searchResultsNumber = Number(data.length);\r\n        if (searchResultsNumber > 10) {\r\n            pnotifyError(\"Cлишком много совпадений, уточните запрос\");\r\n            return;\r\n        }\r\n        if (searchResultsNumber > 1 && searchResultsNumber < 10) {\r\n            const countries = data.map(country => country.name);\r\n            divContainetRef.innerHTML = countryListTemplate(countries);\r\n\r\n            return;\r\n        }\r\n        if (searchResultsNumber === 1) {\r\n            divContainetRef.innerHTML = countryMarkup(data[0]);\r\n            return;\r\n            }\r\n        pnotifyError('По Вашему запросу нет совпадений');\r\n    });\r\n}, 500);\r\n\r\n\r\nfunction containerCleaner(){\r\n    divContainetRef.innerHTML = '';\r\n    const pnotifyContainerRef = document.querySelector('.pnotify');\r\n    if (pnotifyContainerRef) { pnotifyContainerRef.innerHTML = ''; }\r\n};\r\n\r\nexport default fetchCountriesHandler;","export default function fetchCountries(searchQuery) {\r\n    return fetch(`https://restcountries.eu/rest/v2/name/${searchQuery}?fields=name;capital;flag;languages;population`)\r\n        .then(response => response.json());\r\n\r\n};","import './styles.css';\r\nimport fetchCountriesHandler from './js/fetchCountriesHandler.js'\r\n\r\nconst inputRef = document.querySelector('.search-input');\r\ninputRef.addEventListener('input', fetchCountriesHandler);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                <li>\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h2 class=\\\"title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":18},\"end\":{\"line\":1,\"column\":26}}}) : helper)))\n    + \"</h2>\\r\\n<div class=\\\"container\\\">\\r\\n    <ul class='list'>\\r\\n        <li class=\\\"list-item\\\">\\r\\n            <span class=\\\"bold-text\\\">Capital : </span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":53},\"end\":{\"line\":5,\"column\":64}}}) : helper)))\n    + \"\\r\\n        </li>\\r\\n        <li class=\\\"list-item\\\">\\r\\n            <span class=\\\"bold-text\\\">Population : </span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"population\") || (depth0 != null ? lookupProperty(depth0,\"population\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":56},\"end\":{\"line\":8,\"column\":70}}}) : helper)))\n    + \"\\r\\n        </li>\\r\\n        <li class=\\\"list-item\\\">\\r\\n            <ul>\\r\\n                <span class=\\\"bold-text\\\">Languages : </span>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":16},\"end\":{\"line\":15,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"            </ul>\\r\\n\\r\\n        </li>\\r\\n    </ul>\\r\\n    <img class=\\\"flag-image\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":33},\"end\":{\"line\":20,\"column\":41}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":48},\"end\":{\"line\":20,\"column\":56}}}) : helper)))\n    + \" flag picture\\\" width='300' height=\\\"auto\\\">\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}